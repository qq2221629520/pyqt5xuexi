# 添加按钮、创建菜单、创建动作、添加动作、添加分割线、添加子菜单、创建动作、给动作添加功能# pip install -i https://pypi.tuna.tsinghua.edu.cn/simple xxxx # 打包命令 pyinstaller xxxxxxxx --onefile --icon=xxxxxxxxxx from PyQt5.Qt import *import sysapp = QApplication(sys.argv)window = QWidget()#创建一个按钮btn = QPushButton(window)btn.setText("下拉菜单")btn.move(100,100)btn.resize(100,100)#创建一个下拉菜单menu=QMenu(window)#创建动作1action1=QAction("动作1",window)#创建动作2action2=QAction("动作2",window)#创建动作3action3=QAction("动作3",window)#添加动作menu.addAction(action1)menu.addAction(action2)menu.addAction(action3)#添加分割线menu.addSeparator()#添加子菜单1subMenu1=menu.addMenu("子菜单1")#创建动作4action4=QAction("动作4",window)#创建动作5action5=QAction("动作5",window)#创建动作6action6=QAction("动作6",window)#添加动作subMenu1.addAction(action4)subMenu1.addAction(action5)subMenu1.addAction(action6)#创建退出程序动作action7=QAction("退出程序",window)#添加动作menu.addAction(action7)#给推出动作添加功能def quitApp():    app.quit()action7.triggered.connect(quitApp)def showMenu():    #获取按钮的位置    pos=btn.pos()    #获取按钮的大小    size=btn.size()    #获取按钮的宽度    width=size.width()    #获取按钮的高度    height=size.height()    #获取按钮的x坐标    x=pos.x()    #获取按钮的y坐标    y=pos.y()    #移动菜单到按钮的位置    menu.move(x,y+height)    #显示菜单    menu.show()#给按钮添加点击事件btn.clicked.connect(showMenu)btn.setMenu(menu)window.show()sys.exit(app.exec_())