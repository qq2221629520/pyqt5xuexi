# 弹出模式的设置# 1. MenuButtonPopup# 2. DelayedPopup# 3. InstantPopup# 4. ToolButtonPopup# 联系了如何设置setdata和getdata# pip install -i https://pypi.tuna.tsinghua.edu.cn/simple xxxx # 打包命令 pyinstaller xxxxxxxx --onefile --icon=xxxxxxxxxx #from PyQt5.Qt import *import sys#app = QApplication(sys.argv)window = QWidget()#创建三个toolbuttontb1 = QToolButton(window)tb2 = QToolButton(window)tb3 = QToolButton(window)#设置三个toolbutton的图标tb1.setIcon(QIcon('图标头像.ico'))tb2.setIcon(QIcon('图标头像.ico'))tb3.setIcon(QIcon('图标头像.ico'))#设置三个toolbutton的文本tb1.setText('按钮1')tb2.setText('按钮2')tb3.setText('按钮3')#设置三个toolbutton的提示文本tb1.setToolTip('这是按钮1')tb2.setToolTip('这是按钮2')tb3.setToolTip('这是按钮3')#设置三个toolbutton的大小tb1.setFixedSize(100,100)tb2.setFixedSize(100,100)tb3.setFixedSize(100,100)#设置三个toolbutton的位置tb1.move(100,100)tb2.move(200,100)tb3.move(300,100)#设置三个toolbutton的文本颜色tb1.setStyleSheet('color:red')tb2.setStyleSheet('color:red')tb3.setStyleSheet('color:red')#设置三个toolbutton的文本位置tb1.setToolButtonStyle(Qt.ToolButtonTextUnderIcon)tb2.setToolButtonStyle(Qt.ToolButtonTextUnderIcon)tb3.setToolButtonStyle(Qt.ToolButtonTextUnderIcon)#为tb2设置下拉菜单menu = QMenu(tb2)#创建三个actionaction1 = QAction(QIcon('图标头像.ico'),'按钮1',tb2)action2 = QAction(QIcon('图标头像.ico'),'按钮2',tb2)action3 = QAction(QIcon('图标头像.ico'),'退出',tb2)#将三个action添加到菜单中menu.addAction(action1)menu.addAction(action2)menu.addAction(action3)#为tb2设置菜单tb2.setMenu(menu)#设置多种弹出模式# tb2.setPopupMode(QToolButton.MenuButtonPopup)#这行的意思是，当鼠标移动到按钮上时，按钮会弹出菜单# tb2.setPopupMode(QToolButton.DelayedPopup)#这行的意思是，当鼠标移动到按钮上时，按钮会弹出菜单，但是要等待一段时间tb2.setPopupMode(QToolButton.InstantPopup)#这行的意思是，当鼠标移动到按钮上时，按钮会弹出菜单，但是不需要等待时间#定义一个退出的槽函数def quit():    window.close()#为action3绑定槽函数action3.triggered.connect(quit)action1.setData('按钮1')action2.setData('按钮2')def fun1():    print('按钮1被点击了')def fun2():    print('按钮2被点击了')#绑定槽函数action1.triggered.connect(fun1)action2.triggered.connect(fun2)def do_click(Action):#括号里面的Action是一个对象，    print('按钮被点击了',action.data())window.show()sys.exit(app.exec_())